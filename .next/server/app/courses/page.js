(()=>{var e={};e.id=65,e.ids=[65],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},78620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>n}),s(17993),s(62508),s(53817),s(35866);var r=s(23191),a=s(88716),i=s(37922),l=s.n(i),c=s(95231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);s.d(t,o);let n=["",{children:["courses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,17993)),"D:\\dev\\cursor\\course builder\\src\\app\\courses\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,62508)),"D:\\dev\\cursor\\course builder\\src\\app\\courses\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,53817)),"D:\\dev\\cursor\\course builder\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\dev\\cursor\\course builder\\src\\app\\courses\\page.tsx"],u="/courses/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/courses/page",pathname:"/courses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},9403:(e,t,s)=>{Promise.resolve().then(s.bind(s,92910))},23839:(e,t,s)=>{Promise.resolve().then(s.bind(s,89227))},62881:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(17577);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:d,...u},x)=>(0,r.createElement)("svg",{ref:x,...n,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:c("lucide",i),...!l&&!o(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),u=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...i},o)=>(0,r.createElement)(d,{ref:o,iconNode:t,className:c(`lucide-${a(l(e))}`,`lucide-${e}`,s),...i}));return s.displayName=l(e),s}},6343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},39183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},94019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},92910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(10326),a=s(62760),i=s(80341);function l({children:e}){return r.jsx(i.AuthGuard,{children:r.jsx(a.DashboardLayout,{children:e})})}},89227:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(10326),a=s(17577),i=s(35047),l=s(83855),c=s(6343),o=s(48998);let n=(0,s(62881).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=s(69561);s(64727);var u=s(85439);let x={draft:"default",published:"success",archived:"secondary"},h={beginner:"info",intermediate:"warning",advanced:"danger",expert:"primary"};function p(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)([]),[p,m]=(0,a.useState)(!0),[g,y]=(0,a.useState)({}),[f,v]=(0,a.useState)({total:0,draft:0,published:0,archived:0}),[b,j]=(0,a.useState)(!1),w=[{id:"status",label:"Status",type:"checkbox",options:[{value:"draft",label:"Draft",count:f.draft},{value:"published",label:"Published",count:f.published},{value:"archived",label:"Archived",count:f.archived}]},{id:"difficulty",label:"Difficulty",type:"radio",options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"},{value:"expert",label:"Expert"}]}];return(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Courses"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your courses and learning materials"})]}),r.jsx(u.zx,{onClick:()=>e.push("/courses/new"),leftIcon:r.jsx(l.Z,{className:"h-4 w-4"}),children:"Create Course"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(u.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Courses"}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:f.total})]}),r.jsx(c.Z,{className:"h-8 w-8 text-gray-400"})]})}),r.jsx(u.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Draft"}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:f.draft})]}),r.jsx(o.Z,{className:"h-8 w-8 text-gray-400"})]})}),r.jsx(u.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published"}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400",children:f.published})]}),r.jsx(n,{className:"h-8 w-8 text-green-400"})]})}),r.jsx(u.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Archived"}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-500 dark:text-gray-400",children:f.archived})]}),r.jsx(d.Z,{className:"h-8 w-8 text-gray-400"})]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(u.Rj,{placeholder:"Search courses...",onSearch:e=>{y({...g,search:e})},fullWidth:!0})}),r.jsx(u.zx,{variant:"outline",onClick:()=>j(!b),leftIcon:r.jsx(d.Z,{className:"h-4 w-4"}),children:"Filters"})]}),b&&r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:r.jsx(u.hR,{filters:w,values:g,onChange:(e,t)=>{y({...g,[e]:t})},onReset:()=>y({}),collapsible:!1})})]}),p?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(u.$j,{size:"lg"})}):0===t.length?(0,r.jsxs)(u.Zb,{className:"p-12 text-center",children:[r.jsx(c.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"No courses found"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Get started by creating your first course."}),r.jsx(u.zx,{className:"mt-4",onClick:()=>e.push("/courses/new"),leftIcon:r.jsx(l.Z,{className:"h-4 w-4"}),children:"Create Course"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>(0,r.jsxs)(u.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e.push(`/courses/${t.id}`),children:[t.thumbnail_url&&r.jsx("div",{className:"h-48 overflow-hidden rounded-t-lg",children:r.jsx("img",{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover"})}),(0,r.jsxs)(u.Zb.Content,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-1",children:t.title}),r.jsx(u.Ct,{variant:x[t.status],size:"sm",children:t.status})]}),t.short_description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-4",children:t.short_description}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Ct,{variant:h[t.difficulty],size:"sm",children:t.difficulty}),t.duration_hours&&(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[t.duration_hours,"h"]})]}),t.category&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:t.category.color?`${t.category.color}20`:void 0,color:t.category.color||void 0},children:t.category.name})]}),t.tags&&t.tags.length>0&&(0,r.jsxs)("div",{className:"mt-3 flex flex-wrap gap-1",children:[t.tags.slice(0,3).map(e=>r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:e},e)),t.tags.length>3&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-3]})]})]})]},t.id))})]})}},64727:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});let r=(0,s(59813).createClientComponentClient)(),a={async getCourses(e={}){let t=r.from("courses").select(`
        *,
        category:categories(id, name, color, icon)
      `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.difficulty&&(t=t.eq("difficulty",e.difficulty)),e.categoryId&&(t=t.eq("category_id",e.categoryId)),void 0!==e.isPublic&&(t=t.eq("is_public",e.isPublic)),e.search&&(t=t.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.tags&&e.tags.length>0&&(t=t.contains("tags",e.tags));let{data:s,error:a}=await t;if(a)throw a;return s},async getCourse(e){let{data:t,error:s}=await r.from("courses").select(`
        *,
        category:categories(id, name, color, icon),
        course_books(
          id,
          book_id,
          is_required,
          notes,
          position,
          book:books(id, title, author, cover_image_url)
        ),
        course_vocabulary_groups(
          id,
          vocabulary_group_id,
          position,
          vocabulary_group:vocabulary_groups(id, name, language, difficulty)
        )
      `).eq("id",e).single();if(s)throw s;return t},async createCourse(e){let{data:t}=await r.auth.getUser();if(!t.user)throw Error("User not authenticated");let{data:s,error:a}=await r.from("courses").insert({...e,user_id:t.user.id,status:e.status||"draft",difficulty:e.difficulty||"beginner",is_public:e.is_public||!1}).select().single();if(a)throw a;return s},async updateCourse({id:e,...t}){let{data:s,error:a}=await r.from("courses").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return s},async deleteCourse(e){let{error:t}=await r.from("courses").delete().eq("id",e);if(t)throw t},async publishCourse(e){let{data:t,error:s}=await r.from("courses").update({status:"published",published_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return t},async archiveCourse(e){let{data:t,error:s}=await r.from("courses").update({status:"archived",updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return t},async getCourseStats(){let{data:e}=await r.auth.getUser();if(!e.user)throw Error("User not authenticated");let{data:t,error:s}=await r.from("courses").select("status",{count:"exact"}).eq("user_id",e.user.id);if(s)throw s;return{total:t?.length||0,draft:t?.filter(e=>"draft"===e.status).length||0,published:t?.filter(e=>"published"===e.status).length||0,archived:t?.filter(e=>"archived"===e.status).length||0}}}},62508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var r=s(68570);let a=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\courses\layout.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let c=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\courses\layout.tsx#default`)},17993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var r=s(68570);let a=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\courses\page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let c=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\courses\page.tsx#default`)},79360:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var r=s(41135);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.W,l=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:c}=t,o=Object.keys(l).map(e=>{let t=null==s?void 0:s[e],r=null==c?void 0:c[e];if(null===t)return null;let i=a(t)||a(r);return l[e][i]}),n=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return i(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...c,...n}[t]):({...c,...n})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[745,48,849,254,659,439],()=>s(78620));module.exports=r})();