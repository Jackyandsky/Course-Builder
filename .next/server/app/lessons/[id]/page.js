(()=>{var e={};e.id=211,e.ids=[211],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},43974:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d}),t(68231),t(53817),t(35866);var r=t(23191),a=t(88716),n=t(37922),i=t.n(n),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["lessons",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68231)),"D:\\dev\\cursor\\course builder\\src\\app\\lessons\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,53817)),"D:\\dev\\cursor\\course builder\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\dev\\cursor\\course builder\\src\\app\\lessons\\[id]\\page.tsx"],u="/lessons/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/lessons/[id]/page",pathname:"/lessons/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66666:(e,s,t)=>{Promise.resolve().then(t.bind(t,78402))},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},78402:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(10326),a=t(17577),n=t(35047),i=t(99837),l=t(47375),c=t(36792),d=t(856),o=t(31414),u=t(59851),x=t(81254),m=t(86333),h=t(37358),p=t(48998),g=t(77636),j=t(24061),f=t(69508),y=t(98091);function v(){let e=(0,n.useRouter)(),s=(0,n.useParams)().id,[t,v]=(0,a.useState)(null),[N,b]=(0,a.useState)(!0),[_,w]=(0,a.useState)(!1),P=async()=>{try{b(!0);let e=await u.p.getLesson(s);if(e.schedule_id){let s=await x.y.getSchedule(e.schedule_id);v({...e,schedule:s})}else v(e)}catch(s){console.error("Failed to load lesson:",s),e.push("/schedules")}finally{b(!1)}},q=async()=>{if(confirm("Are you sure you want to delete this lesson?"))try{w(!0),await u.p.deleteLesson(s),e.push(t?.schedule_id?`/schedules/${t.schedule_id}`:"/schedules")}catch(e){console.error("Failed to delete lesson:",e)}finally{w(!1)}},k=e=>{try{return new Date(`2000-01-01T${e}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return e}};return N?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx(d.$,{size:"lg"})}):t?(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>e.push(t.schedule_id?`/schedules/${t.schedule_id}`:"/schedules"),leftIcon:r.jsx(m.Z,{className:"h-4 w-4"}),className:"mb-4",children:"Back to Schedule"}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:["Lesson ",t.lesson_number,": ",t.topic]}),r.jsx(c.C,{variant:"completed"===t.status?"success":"cancelled"===t.status?"danger":"default",children:t.status})]}),t.schedule?.course&&r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2",children:t.schedule.course.title}),t.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(h.Z,{className:"h-4 w-4"}),r.jsx("span",{children:(e=>{try{return new Date(e).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return e}})(t.date)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(p.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[k(t.start_time)," - ",k(t.end_time)]})]}),t.location&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(g.Z,{className:"h-4 w-4"}),r.jsx("span",{children:t.location})]}),t.max_students&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(j.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Max ",t.max_students," students"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(i.z,{variant:"outline",onClick:()=>e.push(`/lessons/${s}/edit`),leftIcon:r.jsx(f.Z,{className:"h-4 w-4"}),children:"Edit"}),r.jsx(i.z,{variant:"outline",onClick:q,loading:_,leftIcon:r.jsx(y.Z,{className:"h-4 w-4"}),className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Delete"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsx(l.Z,{children:r.jsx(l.Z.Content,{children:r.jsx(o.js,{lessonId:s,onUpdate:P})})})}),(0,r.jsxs)("div",{className:"space-y-6",children:[t.homework&&(0,r.jsxs)(l.Z,{children:[r.jsx(l.Z.Header,{children:r.jsx("h3",{className:"text-sm font-semibold",children:"Homework"})}),r.jsx(l.Z.Content,{children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.homework})})]}),t.notes&&(0,r.jsxs)(l.Z,{children:[r.jsx(l.Z.Header,{children:r.jsx("h3",{className:"text-sm font-semibold",children:"Notes"})}),r.jsx(l.Z.Content,{children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.notes})})]}),(0,r.jsxs)(l.Z,{children:[r.jsx(l.Z.Header,{children:r.jsx("h3",{className:"text-sm font-semibold",children:"Lesson Information"})}),r.jsx(l.Z.Content,{children:(0,r.jsxs)("dl",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-gray-500 dark:text-gray-400",children:"Created"}),r.jsx("dd",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-gray-500 dark:text-gray-400",children:"Last Updated"}),r.jsx("dd",{className:"font-medium",children:new Date(t.updated_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-gray-500 dark:text-gray-400",children:"Lesson ID"}),r.jsx("dd",{className:"font-mono text-xs",children:t.id})]})]})})]})]})]})]}):null}},68231:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=t(68570);let a=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\lessons\[id]\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`D:\dev\cursor\course builder\src\app\lessons\[id]\page.tsx#default`)},41135:(e,s,t)=>{"use strict";function r(){for(var e,s,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(s=function e(s){var t,r,a="";if("string"==typeof s||"number"==typeof s)a+=s;else if("object"==typeof s){if(Array.isArray(s)){var n=s.length;for(t=0;t<n;t++)s[t]&&(r=e(s[t]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=s);return r}t.d(s,{W:()=>r})}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[745,248,254,414],()=>t(43974));module.exports=r})();