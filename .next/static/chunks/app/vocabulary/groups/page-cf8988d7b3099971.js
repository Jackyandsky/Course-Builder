(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9395],{4384:function(e,t,a){Promise.resolve().then(a.bind(a,12487))},78030:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(2265);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:g,...y}=e;return(0,r.createElement)("svg",{ref:t,...o,width:l,height:l,stroke:a,strokeWidth:i?24*Number(s)/Number(l):s,className:n("lucide",u),...!d&&!c(y)&&{"aria-hidden":"true"},...y},[...g.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:c,...o}=a;return(0,r.createElement)(u,{ref:s,iconNode:t,className:n("lucide-".concat(l(i(e))),"lucide-".concat(e),c),...o})});return a.displayName=i(e),a}},6540:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},42421:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},70518:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},87592:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},14392:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},63550:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},65607:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},4436:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},54775:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},15574:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},74453:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},92513:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},11240:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},74697:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},16463:function(e,t,a){"use strict";var r=a(71169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},12487:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(57437),l=a(2265),s=a(16463),i=a(54775),n=a(15574),c=a(6540),o=a(92513),u=a(11240),d=a(65607),g=a(4436),y=a(74453),h=a(31868),f=a(60287),m=a(2318),p=a(49354);let x={beginner:"success",intermediate:"warning",advanced:"danger",expert:"primary"};function v(){let e=(0,s.useRouter)(),[t,a]=(0,l.useState)([]),[v,b]=(0,l.useState)(!0),[w,j]=(0,l.useState)({}),[k,N]=(0,l.useState)({vocabulary:{total:0,beginner:0,intermediate:0,advanced:0,expert:0},groups:{total:0,beginner:0,intermediate:0,advanced:0,expert:0}}),[_,Z]=(0,l.useState)("grid"),[C,q]=(0,l.useState)([]),[A,S]=(0,l.useState)([]),[z,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{V()},[]),(0,l.useEffect)(()=>{U()},[w]);let V=async()=>{try{let[e,t,a]=await Promise.all([h.A.getVocabularyStats(),h.A.getLanguages(),f.G.getCategories({type:"vocabulary"})]);N(e),q(t),S(a)}catch(e){console.error("Failed to load initial data:",e)}},U=async()=>{try{b(!0);let e=await h.A.getVocabularyGroups(w);a(e)}catch(e){console.error("Failed to load vocabulary groups:",e)}finally{b(!1)}},E=h.A.getDifficultyLevels(),I=[{id:"difficulty",label:"Difficulty",type:"select",options:[{value:"",label:"All Levels"},...E.map(e=>({value:e.value,label:e.label}))]},{id:"language",label:"Language",type:"select",options:[{value:"",label:"All Languages"},...C.map(e=>({value:e,label:e.toUpperCase()}))]},{id:"categoryId",label:"Category",type:"select",options:[{value:"",label:"All Categories"},...A.map(e=>({value:e.id,label:e.name}))]}];return(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Vocabulary Groups"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Organize your vocabulary into themed groups"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,r.jsx)("button",{onClick:()=>Z("grid"),className:(0,p.cn)("p-2 rounded","grid"===_?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"),children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>Z("list"),className:(0,p.cn)("p-2 rounded","list"===_?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"),children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(m.zx,{onClick:()=>e.push("/vocabulary"),variant:"outline",leftIcon:(0,r.jsx)(c.Z,{className:"h-4 w-4"}),children:"Words"}),(0,r.jsx)(m.zx,{onClick:()=>e.push("/vocabulary/groups/new"),leftIcon:(0,r.jsx)(o.Z,{className:"h-4 w-4"}),children:"New Group"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,r.jsx)(m.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Groups"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:k.groups.total})]}),(0,r.jsx)(u.Z,{className:"h-8 w-8 text-gray-400"})]})}),(0,r.jsx)(m.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Words"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:k.vocabulary.total})]}),(0,r.jsx)(c.Z,{className:"h-8 w-8 text-gray-400"})]})}),E.slice(0,4).map(e=>(0,r.jsx)(m.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 capitalize",children:e.label}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100",children:k.groups[e.value]||0})]}),(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-".concat(e.color,"-500")})]})},e.value))]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(m.Rj,{placeholder:"Search by group name or description...",onSearch:e=>{j({...w,search:e})},fullWidth:!0})}),(0,r.jsx)(m.zx,{variant:"outline",onClick:()=>M(!z),leftIcon:(0,r.jsx)(d.Z,{className:"h-4 w-4"}),children:"Filters"})]}),z&&(0,r.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,r.jsx)(m.hR,{filters:I,values:w,onChange:(e,t)=>{j({...w,[e]:t})},onReset:()=>j({}),collapsible:!1})})]}),v?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)(m.$j,{size:"lg"})}):0===t.length?(0,r.jsxs)(m.Zb,{className:"p-12 text-center",children:[(0,r.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"No groups found"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Start organizing your vocabulary by creating your first group."}),(0,r.jsx)(m.zx,{className:"mt-4",onClick:()=>e.push("/vocabulary/groups/new"),leftIcon:(0,r.jsx)(o.Z,{className:"h-4 w-4"}),children:"Create Group"})]}):"grid"===_?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(t=>(0,r.jsx)(m.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer overflow-hidden",onClick:()=>e.push("/vocabulary/groups/".concat(t.id)),children:(0,r.jsxs)(m.Zb.Content,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.vocabulary_count," words"]})]}),(0,r.jsx)("div",{className:"flex items-center gap-1 ml-2",children:t.is_public?(0,r.jsx)(g.Z,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(y.Z,{className:"h-4 w-4 text-gray-400"})})]}),t.description&&(0,r.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 line-clamp-2",children:t.description}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Ct,{variant:x[t.difficulty],size:"sm",children:t.difficulty}),(0,r.jsx)(m.Ct,{variant:"warning",size:"sm",children:t.language.toUpperCase()})]})}),t.target_language&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Target: ",t.target_language.toUpperCase()]}),t.category&&(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:t.category.color?"".concat(t.category.color,"20"):void 0,color:t.category.color||void 0},children:t.category.name})}),t.tags&&t.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,2).map(e=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:e},e)),t.tags.length>2&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-2]})]})]})},t.id))}):(0,r.jsx)("div",{className:"space-y-4",children:t.map(t=>(0,r.jsx)(m.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e.push("/vocabulary/groups/".concat(t.id)),children:(0,r.jsx)(m.Zb.Content,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.name}),t.is_public?(0,r.jsx)(g.Z,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(y.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.vocabulary_count," words"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Ct,{variant:x[t.difficulty],size:"sm",children:t.difficulty}),(0,r.jsx)(m.Ct,{variant:"warning",size:"sm",children:t.language.toUpperCase()}),t.target_language&&(0,r.jsxs)(m.Ct,{variant:"warning",size:"sm",children:["→ ",t.target_language.toUpperCase()]})]})]}),t.description&&(0,r.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2 line-clamp-2",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[t.category&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:t.category.color?"".concat(t.category.color,"20"):void 0,color:t.category.color||void 0},children:t.category.name}),t.tags&&t.tags.length>0&&(0,r.jsxs)(r.Fragment,{children:[t.tags.slice(0,3).map(e=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:e},e)),t.tags.length>3&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-3]})]})]})]})]})})},t.id))})]})}},60287:function(e,t,a){"use strict";a.d(t,{G:function(){return l}});let r=(0,a(64392).createClientComponentClient)(),l={async getCategories(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.from("categories").select("*").order("name",{ascending:!0});e.type&&(t=t.eq("type",e.type)),void 0!==e.parentId&&(t=t.eq("parent_id",e.parentId)),e.search&&(t=t.ilike("name","%".concat(e.search,"%")));let{data:a,error:l}=await t;if(l)throw l;return a},async getCategory(e){let{data:t,error:a}=await r.from("categories").select("*").eq("id",e).single();if(a)throw a;return t},async createCategory(e){let{data:t}=await r.auth.getUser();if(!t.user)throw Error("User not authenticated");let{data:a,error:l}=await r.from("categories").insert({...e,user_id:t.user.id}).select().single();if(l)throw l;return a},async updateCategory(e){let{id:t,...a}=e,{data:l,error:s}=await r.from("categories").update({...a,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return l},async deleteCategory(e){let{error:t}=await r.from("categories").delete().eq("id",e);if(t)throw t},getCategoryTypes:()=>[{value:"course",label:"Course"},{value:"book",label:"Book"},{value:"vocabulary",label:"Vocabulary"},{value:"objective",label:"Objective"},{value:"method",label:"Method"},{value:"task",label:"Task"}]}},31868:function(e,t,a){"use strict";a.d(t,{A:function(){return l}});let r=(0,a(64392).createClientComponentClient)(),l={async getVocabulary(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.from("vocabulary").select("*").order("word",{ascending:!0});e.search&&(t=t.or("word.ilike.%".concat(e.search,"%,translation.ilike.%").concat(e.search,"%,definition.ilike.%").concat(e.search,"%"))),e.difficulty&&(t=t.eq("difficulty",e.difficulty)),e.partOfSpeech&&(t=t.eq("part_of_speech",e.partOfSpeech)),e.tags&&e.tags.length>0&&(t=t.contains("tags",e.tags));let{data:a,error:l}=await t;if(l)throw l;return a},async getVocabularyInGroup(e){let{data:t,error:a}=await r.from("vocabulary_group_items").select("\n        *,\n        vocabulary(*)\n      ").eq("vocabulary_group_id",e).order("position",{ascending:!0});if(a)throw a;return t},async getVocabularyItem(e){let{data:t,error:a}=await r.from("vocabulary").select("*").eq("id",e).single();if(a)throw a;return t},async createVocabulary(e){let{data:t}=await r.auth.getUser();if(!t.user)throw Error("User not authenticated");let a={...e,difficulty:e.difficulty||"beginner",user_id:t.user.id},{data:l,error:s}=await r.from("vocabulary").insert(a).select().single();if(s)throw s;return l},async updateVocabulary(e){let{id:t,...a}=e,{data:l,error:s}=await r.from("vocabulary").update({...a,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return l},async deleteVocabulary(e){let{error:t}=await r.from("vocabulary").delete().eq("id",e);if(t)throw t},async getVocabularyGroups(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.from("vocabulary_groups").select("\n        *,\n        category:categories(id, name, color, icon),\n        vocabulary_group_items(count)\n      ").order("created_at",{ascending:!1});e.search&&(t=t.or("name.ilike.%".concat(e.search,"%,description.ilike.%").concat(e.search,"%"))),e.difficulty&&(t=t.eq("difficulty",e.difficulty)),e.language&&(t=t.eq("language",e.language)),e.targetLanguage&&(t=t.eq("target_language",e.targetLanguage)),e.categoryId&&(t=t.eq("category_id",e.categoryId)),void 0!==e.isPublic&&(t=t.eq("is_public",e.isPublic)),e.tags&&e.tags.length>0&&(t=t.contains("tags",e.tags));let{data:a,error:l}=await t;if(l)throw l;return(null==a?void 0:a.map(e=>{var t,a;return{...e,vocabulary_count:(null===(a=e.vocabulary_group_items)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.count)||0}}))||[]},async getVocabularyGroup(e){let{data:t,error:a}=await r.from("vocabulary_groups").select("\n        *,\n        category:categories(id, name, color, icon),\n        vocabulary_group_items(\n          *,\n          vocabulary(*)\n        )\n      ").eq("id",e).single();if(a)throw a;return t},async createVocabularyGroup(e){let{data:t}=await r.auth.getUser();if(!t.user)throw Error("User not authenticated");let a={...e,language:e.language||"en",difficulty:e.difficulty||"beginner",is_public:e.is_public||!1,user_id:t.user.id},{data:l,error:s}=await r.from("vocabulary_groups").insert(a).select().single();if(s)throw s;return l},async updateVocabularyGroup(e){let{id:t,...a}=e,{data:l,error:s}=await r.from("vocabulary_groups").update({...a,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return l},async deleteVocabularyGroup(e){let{error:t}=await r.from("vocabulary_groups").delete().eq("id",e);if(t)throw t},async addVocabularyToGroup(e,t,a){if(void 0===a){let{data:e}=await r.from("vocabulary_group_items").select("position").eq("vocabulary_group_id",t).order("position",{ascending:!1}).limit(1);a=e&&e.length>0?e[0].position+1:0}let{data:l,error:s}=await r.from("vocabulary_group_items").insert({vocabulary_group_id:t,vocabulary_id:e,position:a}).select().single();if(s)throw s;return l},async removeVocabularyFromGroup(e,t){let{error:a}=await r.from("vocabulary_group_items").delete().eq("vocabulary_group_id",t).eq("vocabulary_id",e);if(a)throw a},async updateVocabularyPosition(e,t,a){let{data:l,error:s}=await r.from("vocabulary_group_items").update({position:a}).eq("vocabulary_group_id",t).eq("vocabulary_id",e).select().single();if(s)throw s;return l},async getVocabularyStats(){var e,t,a,l,s,i,n,c,o,u;let{data:d}=await r.auth.getUser();if(!d.user)throw Error("User not authenticated");let[g,y]=await Promise.all([r.from("vocabulary").select("difficulty",{count:"exact"}).eq("user_id",d.user.id),r.from("vocabulary_groups").select("difficulty",{count:"exact"}).eq("user_id",d.user.id)]);if(g.error)throw g.error;if(y.error)throw y.error;return{vocabulary:{total:(null===(e=g.data)||void 0===e?void 0:e.length)||0,beginner:(null===(t=g.data)||void 0===t?void 0:t.filter(e=>"beginner"===e.difficulty).length)||0,intermediate:(null===(a=g.data)||void 0===a?void 0:a.filter(e=>"intermediate"===e.difficulty).length)||0,advanced:(null===(l=g.data)||void 0===l?void 0:l.filter(e=>"advanced"===e.difficulty).length)||0,expert:(null===(s=g.data)||void 0===s?void 0:s.filter(e=>"expert"===e.difficulty).length)||0},groups:{total:(null===(i=y.data)||void 0===i?void 0:i.length)||0,beginner:(null===(n=y.data)||void 0===n?void 0:n.filter(e=>"beginner"===e.difficulty).length)||0,intermediate:(null===(c=y.data)||void 0===c?void 0:c.filter(e=>"intermediate"===e.difficulty).length)||0,advanced:(null===(o=y.data)||void 0===o?void 0:o.filter(e=>"advanced"===e.difficulty).length)||0,expert:(null===(u=y.data)||void 0===u?void 0:u.filter(e=>"expert"===e.difficulty).length)||0}}},async getPartsOfSpeech(){let{data:e}=await r.auth.getUser();if(!e.user)throw Error("User not authenticated");let{data:t,error:a}=await r.from("vocabulary").select("part_of_speech").eq("user_id",e.user.id).not("part_of_speech","is",null);if(a)throw a;return Array.from(new Set(null==t?void 0:t.map(e=>e.part_of_speech).filter(Boolean))).sort()},async getLanguages(){let{data:e}=await r.auth.getUser();if(!e.user)throw Error("User not authenticated");let{data:t,error:a}=await r.from("vocabulary_groups").select("language, target_language").eq("user_id",e.user.id);if(a)throw a;let l=new Set;return null==t||t.forEach(e=>{e.language&&l.add(e.language),e.target_language&&l.add(e.target_language)}),Array.from(l).sort()},getDifficultyLevels:()=>[{value:"beginner",label:"Beginner",color:"green"},{value:"intermediate",label:"Intermediate",color:"yellow"},{value:"advanced",label:"Advanced",color:"orange"},{value:"expert",label:"Expert",color:"red"}],getPartsOfSpeechOptions:()=>[{value:"noun",label:"Noun"},{value:"verb",label:"Verb"},{value:"adjective",label:"Adjective"},{value:"adverb",label:"Adverb"},{value:"pronoun",label:"Pronoun"},{value:"preposition",label:"Preposition"},{value:"conjunction",label:"Conjunction"},{value:"interjection",label:"Interjection"},{value:"article",label:"Article"}]}},13027:function(e,t,a){"use strict";a.d(t,{j:function(){return i}});var r=a(44839);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,i=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:i,defaultVariants:n}=t,c=Object.keys(i).map(e=>{let t=null==a?void 0:a[e],r=null==n?void 0:n[e];if(null===t)return null;let s=l(t)||l(r);return i[e][s]}),o=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return s(e,c,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:a,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...n,...o}[t]):({...n,...o})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}},44839:function(e,t,a){"use strict";function r(){for(var e,t,a=0,r="",l=arguments.length;a<l;a++)(e=arguments[a])&&(t=function e(t){var a,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(a=0;a<s;a++)t[a]&&(r=e(t[a]))&&(l&&(l+=" "),l+=r)}else for(r in t)t[r]&&(l&&(l+=" "),l+=r)}return l}(e))&&(r&&(r+=" "),r+=t);return r}a.d(t,{W:function(){return r}})}},function(e){e.O(0,[4392,8409,2318,2971,7023,1744],function(){return e(e.s=4384)}),_N_E=e.O()}]);