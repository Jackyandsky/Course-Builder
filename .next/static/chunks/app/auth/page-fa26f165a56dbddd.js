(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1235],{87170:function(e,t,r){Promise.resolve().then(r.bind(r,92365))},16463:function(e,t,r){"use strict";var a=r(71169);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},92365:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(57437),n=r(2265),s=r(19115),i=r(7505);function l(){let[e,t]=(0,n.useState)(!1);return(0,a.jsx)(i.AuthGuard,{requireAuth:!1,children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary-600 mb-2",children:"Course Builder"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Modular Course Design & Management Platform"})]}),(0,a.jsx)(s.LoginForm,{isSignUp:e,onToggleMode:()=>t(!e)}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,a.jsxs)("p",{children:["By continuing, you agree to our"," ",(0,a.jsx)("a",{href:"/terms",className:"text-primary-600 hover:text-primary-700",children:"Terms of Service"})," ","and"," ",(0,a.jsx)("a",{href:"/privacy",className:"text-primary-600 hover:text-primary-700",children:"Privacy Policy"})]})})]})})})}},7505:function(e,t,r){"use strict";r.d(t,{AuthGuard:function(){return l}});var a=r(57437),n=r(39630),s=r(16463),i=r(2265);function l(e){let{children:t,requireAuth:r=!0,redirectTo:l="/auth"}=e,{user:u,loading:o}=(0,n.a)(),c=(0,s.useRouter)();return((0,i.useEffect)(()=>{o||(r&&!u?c.push(l):!r&&u&&c.push("/dashboard"))},[u,o,r,l,c]),o)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r&&!u||!r&&u?null:(0,a.jsx)(a.Fragment,{children:t})}},19115:function(e,t,r){"use strict";r.d(t,{LoginForm:function(){return u}});var a=r(57437),n=r(2265),s=r(39630),i=r(6760),l=r(9155);function u(e){let{onToggleMode:t,isSignUp:r=!1}=e,[u,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[f,x]=(0,n.useState)(""),[g,y]=(0,n.useState)(""),[v,p]=(0,n.useState)(""),[b,j]=(0,n.useState)(!1),{signIn:w,signUp:N}=(0,s.a)(),C=async e=>{e.preventDefault(),p(""),j(!0);try{if(r){if(c!==m){p("Passwords do not match");return}let{user:e,error:t}=await N(u,c,{data:{first_name:f,last_name:g,full_name:"".concat(f," ").concat(g).trim()}});t&&p(t.message)}else{let{user:e,error:t}=await w(u,c);t&&p(t.message)}}catch(e){p("An unexpected error occurred")}finally{j(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Create Account":"Sign In"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:r?"Join Course Builder to start creating amazing courses":"Welcome back! Please sign in to your account"})]}),(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[r&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(l.I,{label:"First Name",type:"text",value:f,onChange:e=>x(e.target.value),required:!0,placeholder:"John"}),(0,a.jsx)(l.I,{label:"Last Name",type:"text",value:g,onChange:e=>y(e.target.value),required:!0,placeholder:"Doe"})]}),(0,a.jsx)(l.I,{label:"Email",type:"email",value:u,onChange:e=>o(e.target.value),required:!0,placeholder:"john@example.com"}),(0,a.jsx)(l.I,{label:"Password",type:"password",value:c,onChange:e=>d(e.target.value),required:!0,placeholder:"••••••••"}),r&&(0,a.jsx)(l.I,{label:"Confirm Password",type:"password",value:m,onChange:e=>h(e.target.value),required:!0,placeholder:"••••••••"}),v&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:v}),(0,a.jsx)(i.z,{type:"submit",className:"w-full",loading:b,disabled:b,children:r?"Create Account":"Sign In"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"button",onClick:t,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})}},6760:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var a=r(57437),n=r(49354),s=r(13027),i=r(2265);let l=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-600 text-white hover:bg-gray-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",ghost:"text-gray-700 hover:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}},defaultVariants:{variant:"primary",size:"md"}}),u=(0,i.forwardRef)((e,t)=>{let{className:r,variant:s,size:i,loading:u,children:o,disabled:c,...d}=e;return(0,a.jsxs)("button",{className:(0,n.cn)(l({variant:s,size:i,className:r})),ref:t,disabled:c||u,...d,children:[u&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})});u.displayName="Button"},9155:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var a=r(57437),n=r(49354);let s=(0,r(2265).forwardRef)((e,t)=>{let{className:r,type:s,label:i,error:l,helperText:u,id:o,...c}=e,d=o||"input-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"space-y-1",children:[i&&(0,a.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:[i,c.required&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)("input",{type:s,id:d,className:(0,n.cn)("block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",l&&"border-red-300 focus:border-red-500 focus:ring-red-500",c.disabled&&"bg-gray-50 text-gray-500 cursor-not-allowed",r),ref:t,...c}),l&&(0,a.jsx)("p",{className:"text-sm text-red-600",id:"".concat(d,"-error"),children:l}),u&&!l&&(0,a.jsx)("p",{className:"text-sm text-gray-500",id:"".concat(d,"-helper"),children:u})]})});s.displayName="Input"},39630:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return u}});var a=r(57437),n=r(2265),s=r(44316);let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[u,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),m=(0,s.J)();(0,n.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await m.auth.getSession();o(t),l(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),d(!1)})();let{data:{subscription:e}}=m.auth.onAuthStateChange(async(e,t)=>{var r;o(t),l(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),d(!1)});return()=>e.unsubscribe()},[m.auth]);let h=async(e,t,r)=>{d(!0);try{let{data:a,error:n}=await m.auth.signUp({email:e,password:t,options:r});return{user:a.user,error:n}}finally{d(!1)}},f=async(e,t)=>{d(!0);try{let{data:r,error:a}=await m.auth.signInWithPassword({email:e,password:t});return{user:r.user,error:a}}finally{d(!1)}},x=async()=>{d(!0);try{await m.auth.signOut()}finally{d(!1)}},g=async e=>{let{error:t}=await m.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});return{error:t}};return(0,a.jsx)(i.Provider,{value:{user:r,session:u,loading:c,signUp:h,signIn:f,signOut:x,resetPassword:g},children:t})}function u(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},44316:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var a=r(64392);let n=()=>(0,a.createClientComponentClient)()},49354:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(44839);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.W)(t)}},13027:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var a=r(44839);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.W,i=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let s=n(t)||n(a);return i[e][s]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,u,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...o}[t]):({...l,...o})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},44839:function(e,t,r){"use strict";function a(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:function(){return a}})}},function(e){e.O(0,[4392,2971,7023,1744],function(){return e(e.s=87170)}),_N_E=e.O()}]);