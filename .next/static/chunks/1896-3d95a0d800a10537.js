"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1896],{7505:function(e,a,r){r.d(a,{AuthGuard:function(){return i}});var t=r(57437),s=r(39630),l=r(16463),n=r(2265);function i(e){let{children:a,requireAuth:r=!0,redirectTo:i="/auth"}=e,{user:o,loading:c}=(0,s.a)(),d=(0,l.useRouter)();return((0,n.useEffect)(()=>{c||(r&&!o?d.push(i):!r&&o&&d.push("/dashboard"))},[o,c,r,i,d]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r&&!o||!r&&o?null:(0,t.jsx)(t.Fragment,{children:a})}},8189:function(e,a,r){r.d(a,{UserProfile:function(){return x}});var t=r(57437),s=r(2265),l=r(38779),n=r(27070),i=r(89651),o=r(73541),c=r(20129),d=r(39630),u=r(49354);function x(){var e,a,r,x;let{user:m,signOut:h}=(0,d.a)();if(!m)return null;let f=(null===(e=m.user_metadata)||void 0===e?void 0:e.full_name)||(null===(a=m.user_metadata)||void 0===a?void 0:a.first_name)||(null===(r=m.email)||void 0===r?void 0:r.split("@")[0])||"User",g=f.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,t.jsxs)(l.v2,{as:"div",className:"relative",children:[(0,t.jsxs)(l.v2.Button,{className:"flex items-center space-x-3 text-sm rounded-full p-2 hover:bg-gray-100 transition-colors",children:[(null===(x=m.user_metadata)||void 0===x?void 0:x.avatar_url)?(0,t.jsx)("img",{className:"h-8 w-8 rounded-full",src:m.user_metadata.avatar_url,alt:f}):(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-xs font-medium",children:g}),(0,t.jsx)("span",{className:"hidden md:block text-gray-700 font-medium",children:f})]}),(0,t.jsx)(n.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,t.jsxs)(l.v2.Items,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:f}),(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:m.email})]}),(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsx)(l.v2.Item,{children:e=>{let{active:a}=e;return(0,t.jsxs)("button",{className:(0,u.cn)("flex w-full items-center px-4 py-2 text-sm text-gray-700",a&&"bg-gray-100"),children:[(0,t.jsx)(i.Z,{className:"h-5 w-5 mr-3 text-gray-400"}),"Profile Settings"]})}}),(0,t.jsx)(l.v2.Item,{children:e=>{let{active:a}=e;return(0,t.jsxs)("button",{className:(0,u.cn)("flex w-full items-center px-4 py-2 text-sm text-gray-700",a&&"bg-gray-100"),children:[(0,t.jsx)(o.Z,{className:"h-5 w-5 mr-3 text-gray-400"}),"Account Settings"]})}}),(0,t.jsx)(l.v2.Item,{children:e=>{let{active:a}=e;return(0,t.jsxs)("button",{onClick:h,className:(0,u.cn)("flex w-full items-center px-4 py-2 text-sm text-gray-700",a&&"bg-gray-100"),children:[(0,t.jsx)(c.Z,{className:"h-5 w-5 mr-3 text-gray-400"}),"Sign Out"]})}})]})]})})]})}},60313:function(e,a,r){r.d(a,{DashboardLayout:function(){return v}});var t=r(57437),s=r(2265),l=r(27070),n=r(43378),i=r(80842),o=r(1500),c=r(78120),d=r(8119),u=r(84351),x=r(74589),m=r(84573),h=r(87138),f=r(16463),g=r(8189),p=r(49354);let y=[{name:"Dashboard",href:"/dashboard",icon:i.Z},{name:"Courses",href:"/courses",icon:o.Z},{name:"Books",href:"/books",icon:c.Z},{name:"Vocabulary",href:"/vocabulary",icon:d.Z},{name:"Schedules",href:"/schedules",icon:u.Z},{name:"Components",href:"/dashboard/components",icon:x.Z}];function v(e){let{children:a}=e,[r,i]=(0,s.useState)(!1),o=(0,f.usePathname)();return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(l.u.Root,{show:r,as:s.Fragment,children:(0,t.jsxs)(n.Vq,{as:"div",className:"relative z-50 lg:hidden",onClose:i,children:[(0,t.jsx)(l.u.Child,{as:s.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-900/80"})}),(0,t.jsx)("div",{className:"fixed inset-0 flex",children:(0,t.jsx)(l.u.Child,{as:s.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,t.jsxs)(n.Vq.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[(0,t.jsx)(l.u.Child,{as:s.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:(0,t.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>i(!1),children:[(0,t.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,t.jsx)(m.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),(0,t.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-2",children:[(0,t.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"Course Builder"})}),(0,t.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,t.jsx)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:(0,t.jsx)("li",{children:(0,t.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:y.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)(h.default,{href:e.href,className:(0,p.cn)(o===e.href?"bg-gray-50 text-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),onClick:()=>i(!1),children:[(0,t.jsx)(e.icon,{className:(0,p.cn)(o===e.href?"text-primary-600":"text-gray-400 group-hover:text-primary-600","h-6 w-6 shrink-0"),"aria-hidden":"true"}),e.name]})},e.name))})})})})]})]})})})]})}),(0,t.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:(0,t.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6",children:[(0,t.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"Course Builder"})}),(0,t.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,t.jsx)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:(0,t.jsx)("li",{children:(0,t.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:y.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)(h.default,{href:e.href,className:(0,p.cn)(o===e.href?"bg-gray-50 text-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[(0,t.jsx)(e.icon,{className:(0,p.cn)(o===e.href?"text-primary-600":"text-gray-400 group-hover:text-primary-600","h-6 w-6 shrink-0"),"aria-hidden":"true"}),e.name]})},e.name))})})})})]})}),(0,t.jsxs)("div",{className:"lg:pl-72",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,t.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>i(!0),children:[(0,t.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,t.jsx)(x.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,t.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,t.jsx)("div",{className:"flex flex-1"}),(0,t.jsx)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:(0,t.jsx)(g.UserProfile,{})})]})]}),(0,t.jsx)("main",{children:a})]})]})}},39630:function(e,a,r){r.d(a,{AuthProvider:function(){return i},a:function(){return o}});var t=r(57437),s=r(2265),l=r(44316);let n=(0,s.createContext)(void 0);function i(e){let{children:a}=e,[r,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),x=(0,l.J)();(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:a}}=await x.auth.getSession();c(a),i(null!==(e=null==a?void 0:a.user)&&void 0!==e?e:null),u(!1)})();let{data:{subscription:e}}=x.auth.onAuthStateChange(async(e,a)=>{var r;c(a),i(null!==(r=null==a?void 0:a.user)&&void 0!==r?r:null),u(!1)});return()=>e.unsubscribe()},[x.auth]);let m=async(e,a,r)=>{u(!0);try{let{data:t,error:s}=await x.auth.signUp({email:e,password:a,options:r});return{user:t.user,error:s}}finally{u(!1)}},h=async(e,a)=>{u(!0);try{let{data:r,error:t}=await x.auth.signInWithPassword({email:e,password:a});return{user:r.user,error:t}}finally{u(!1)}},f=async()=>{u(!0);try{await x.auth.signOut()}finally{u(!1)}},g=async e=>{let{error:a}=await x.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});return{error:a}};return(0,t.jsx)(n.Provider,{value:{user:r,session:o,loading:d,signUp:m,signIn:h,signOut:f,resetPassword:g},children:a})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},44316:function(e,a,r){r.d(a,{J:function(){return s}});var t=r(64392);let s=()=>(0,t.createClientComponentClient)()},49354:function(e,a,r){r.d(a,{cn:function(){return s}});var t=r(44839);function s(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,t.W)(a)}}}]);